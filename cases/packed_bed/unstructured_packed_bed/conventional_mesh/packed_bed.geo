SetFactory("OpenCASCADE"); 
Box(1) = { -0.004, -0.004, 0, 0.008, 0.008, 0.014 };

// Creating the spheres
Sphere(2) = {-0.00300011, -0.00300011, 0.000999871, 0.00099};
Sphere(3) = {-0.0010002, -0.00300025, 0.000999794, 0.00099};
Sphere(4) = {0.00099076, -0.00279119, 0.000999932, 0.00099};
Sphere(5) = {0.00297994, -0.0030003, 0.000999776, 0.00099};
Sphere(6) = {-0.00300011, -0.000930786, 0.000999804, 0.00099};
Sphere(7) = {-0.00300004, 0.00106914, 0.000999936, 0.00099};
Sphere(8) = {-0.0010014, -0.00100056, 0.000999448, 0.00099};
Sphere(9) = {-0.000356713, 0.000892399, 0.00099969, 0.00099};
Sphere(10) = {0.00135311, -0.000688401, 0.000999472, 0.00099};
Sphere(11) = {0.00300038, -0.00127729, 0.00201429, 0.00099};
Sphere(12) = {0.00300033, 0.00044553, 0.000999528, 0.00099};
Sphere(13) = {-0.00174429, 0.00262567, 0.000999792, 0.00099};
Sphere(14) = {9.16494e-05, 0.00300036, 0.00169833, 0.00099};
Sphere(15) = {0.00146217, 0.00172328, 0.000999386, 0.00099};
Sphere(16) = {0.00300044, 0.00300046, 0.00100021, 0.00099};
Sphere(17) = {-0.00203536, -0.00196539, 0.00241338, 0.00099};
Sphere(18) = {-0.0030002, -0.00300024, 0.00382641, 0.00099};
Sphere(19) = {-0.000328893, -0.00296532, 0.00288324, 0.00099};
Sphere(20) = {0.00128221, -0.00300074, 0.00406755, 0.00099};
Sphere(21) = {0.00119168, -0.00141362, 0.0028557, 0.00099};
Sphere(22) = {0.00299372, -0.00300015, 0.00302962, 0.00099};
Sphere(23) = {-0.0030001, -0.000169804, 0.00284923, 0.00099};
Sphere(24) = {-0.00151387, 0.00114683, 0.00261051, 0.00099};
Sphere(25) = {-0.00141959, 0.000395993, 0.00446457, 0.00099};
Sphere(26) = {-0.000644226, -0.000625209, 0.00293051, 0.00099};
Sphere(27) = {0.000928731, 0.000539647, 0.00251973, 0.00099};
Sphere(28) = {0.000342906, 0.00131923, 0.00426517, 0.00099};
Sphere(29) = {0.00300011, -7.13903e-07, 0.00355349, 0.00099};
Sphere(30) = {-0.00300033, 0.00299882, 0.00251043, 0.00099};
Sphere(31) = {-0.00300022, 0.00154032, 0.00388905, 0.00099};
Sphere(32) = {-0.00114914, 0.00300024, 0.00326664, 0.00099};
Sphere(33) = {0.00111201, 0.0029657, 0.00341799, 0.00099};
Sphere(34) = {0.0029998, 0.00172233, 0.00253837, 0.00099};
Sphere(35) = {0.0030002, 0.00300035, 0.0040762, 0.00099};
Sphere(36) = {-0.00300002, -0.00273862, 0.00580914, 0.00099};
Sphere(37) = {-0.00119434, -0.00300006, 0.00468585, 0.00099};
Sphere(38) = {0.000517695, -0.00300019, 0.00591504, 0.00099};
Sphere(39) = {-0.00126856, -0.00285987, 0.00680275, 0.00099};
Sphere(40) = {0.00300034, -0.00300022, 0.00509049, 0.00099};
Sphere(41) = {-0.00299842, -0.00115228, 0.00459118, 0.00099};
Sphere(42) = {-0.00300048, 0.000623836, 0.00566712, 0.00099};
Sphere(43) = {-0.00122746, -0.00122905, 0.00561435, 0.00099};
Sphere(44) = {0.000440838, -0.000790958, 0.00460203, 0.00099};
Sphere(45) = {-0.000641326, 0.00128287, 0.00607908, 0.00099};
Sphere(46) = {0.0012726, 0.000722296, 0.0059318, 0.00099};
Sphere(47) = {0.000797694, -0.00112195, 0.00654167, 0.00099};
Sphere(48) = {0.00235448, -0.00110755, 0.00508887, 0.00099};
Sphere(49) = {0.00300021, 0.00127743, 0.0050915, 0.00099};
Sphere(50) = {0.00300025, -5.54693e-06, 0.00662773, 0.00099};
Sphere(51) = {-0.00300012, 0.00300011, 0.00525591, 0.00099};
Sphere(52) = {-0.00158519, 0.00300008, 0.00666917, 0.00099};
Sphere(53) = {-0.000347192, 0.00300058, 0.00509851, 0.00099};
Sphere(54) = {0.00160922, 0.00299992, 0.00551287, 0.00099};
Sphere(55) = {0.00300008, 0.00233679, 0.00678774, 0.00099};
Sphere(56) = {-0.00300027, -0.00300015, 0.00779268, 0.00099};
Sphere(57) = {0.000528755, -0.00298415, 0.00791462, 0.00099};
Sphere(58) = {-0.00126531, -0.00300024, 0.00879815, 0.00099};
Sphere(59) = {0.00237014, -0.00231573, 0.00686073, 0.00099};
Sphere(60) = {0.00300004, -0.00300003, 0.00863119, 0.00099};
Sphere(61) = {-0.00182466, 0.000132684, 0.00720848, 0.00099};
Sphere(62) = {-0.00300018, -0.00106479, 0.00829622, 0.00099};
Sphere(63) = {-0.000642819, -0.00131771, 0.00791474, 0.00099};
Sphere(64) = {0.00191504, -0.000716282, 0.00814979, 0.00099};
Sphere(65) = {0.00300013, 0.000798743, 0.0088757, 0.00099};
Sphere(66) = {-0.00300022, 0.00174664, 0.00732182, 0.00099};
Sphere(67) = {-0.00211719, 0.00300023, 0.00860541, 0.00099};
Sphere(68) = {-0.000752674, 0.0016514, 0.00804145, 0.00099};
Sphere(69) = {0.00037124, 0.00300004, 0.00708342, 0.00099};
Sphere(70) = {0.00100269, 0.00300016, 0.00898096, 0.00099};
Sphere(71) = {0.00148065, 0.00148238, 0.00776972, 0.00099};
Sphere(72) = {0.0029999, 0.00300006, 0.00867442, 0.00099};
Sphere(73) = {-0.00300019, -0.00299215, 0.00979268, 0.00099};
Sphere(74) = {0.00117858, -0.0030001, 0.00980576, 0.00099};
Sphere(75) = {-0.00125654, -0.00160939, 0.0102352, 0.00099};
Sphere(76) = {-0.000222252, -0.00300008, 0.0112331, 0.00099};
Sphere(77) = {0.00137613, -0.00171502, 0.0113252, 0.00099};
Sphere(78) = {0.00300012, -0.00300013, 0.0106312, 0.00099};
Sphere(79) = {-0.0030001, 0.00108575, 0.0092093, 0.00099};
Sphere(80) = {-0.0030001, -0.000629901, 0.0102482, 0.00099};
Sphere(81) = {-0.00291414, 0.00112303, 0.011207, 0.00099};
Sphere(82) = {-0.00126343, 9.42611e-05, 0.00918774, 0.00099};
Sphere(83) = {0.000471418, -0.00089867, 0.0095218, 0.00099};
Sphere(84) = {0.000520423, 0.00110031, 0.0094819, 0.00099};
Sphere(85) = {-0.000924172, 0.00112975, 0.0108647, 0.00099};
Sphere(86) = {0.00180462, 0.000122712, 0.0106628, 0.00099};
Sphere(87) = {0.00300013, -0.00120089, 0.00975819, 0.00099};
Sphere(88) = {-0.00154333, 0.00300009, 0.0105212, 0.00099};
Sphere(89) = {0.000421467, 0.00300005, 0.0108945, 0.00099};
Sphere(90) = {0.00221814, 0.00203338, 0.010241, 0.00099};
Sphere(91) = {-0.00271445, -0.0023279, 0.0116573, 0.00099};
Sphere(92) = {0.00100517, -0.00300006, 0.0128121, 0.00099};
Sphere(93) = {-0.00107961, -0.00206454, 0.0127788, 0.00099};
Sphere(94) = {0.00297892, -0.00266895, 0.0126034, 0.00099};
Sphere(95) = {-0.00200879, -0.000484438, 0.011979, 0.00099};
Sphere(96) = {-1.79077e-05, -0.000371468, 0.0118263, 0.00099};
Sphere(97) = {0.00300011, -0.00076241, 0.0119996, 0.00099};
Sphere(98) = {-0.00300003, 0.00300012, 0.0118915, 0.00099};
Sphere(99) = {0.000936044, 0.00138188, 0.0119511, 0.00099};
Sphere(100) = {-0.000869763, 0.00248667, 0.0123329, 0.00099};
Sphere(101) = {0.00300004, 0.00300004, 0.0118074, 0.00099};


// Deleting the spheres from the geometry
BooleanDifference(102) = { Volume{1}; Delete; }{ Volume{2 : 101}; Delete;};

Mesh.CharacteristicLengthMin = 5e-05;
Mesh.CharacteristicLengthMax = 0.0005;

Mesh.ElementOrder = 1;
Mesh.SecondOrderLinear = 1;
Mesh.HighOrderOptimize = 1;
Mesh.SubdivisionAlgorithm = 2;

Physical Volume(0) = { 102 };
Physical Surface(0) = {5}; // z = 0 
Physical Surface(1) = {1, 2, 4, 6}; // walls
Physical Surface(3) = {3}; // z = h
Physical Surface(2) = {7 : 106}; //spheres
